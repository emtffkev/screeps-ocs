const n=new Creep.Behaviour("melee");module.exports=n;const a=n.invalidAction;n.invalidAction=function(n){return a.call(this,n)||"guarding"===n.action.name&&(!n.flag||n.flag.pos.roomName===n.pos.roomName||n.leaveBorder())};const e=n.run;n.run=function(n){n.flee=n.flee||!n.hasActiveBodyparts([ATTACK,RANGED_ATTACK]),n.attacking=!1,n.attackingRanged=!1,e.call(this,n),this.heal(n)},n.heal=function(n){!n.attacking&&void 0!==n.data.body.heal&&n.hits<n.hitsMax&&n.heal(n)},n.actions=(n=>{return[Creep.action.defending,Creep.action.invading,Creep.action.guarding]});