const e={};module.exports=e,e.analyzeRoom=function(e,t){t&&e.saveTowers()},e.executeRoom=function(e,t){const o=Game.rooms[t];if(o&&o.structures.towers.length>0){const e=Util.startProfiling(t,{enabled:global.PROFILING.ROOMS});Tower.loop(o),e.checkCPU("tower.loop",.5)}},e.extend=function(){Object.defineProperties(Room.prototype,{towerFreeCapacity:{configurable:!0,get:function(){if(_.isUndefined(this._towerFreeCapacity)){this._towerFreeCapacity=0;var e=e=>this._towerFreeCapacity+=e.energyCapacity-e.energy;_.forEach(this.structures.towers,e)}return this._towerFreeCapacity}}}),Room.prototype.saveTowers=function(){let e=this.find(FIND_MY_STRUCTURES,{filter:{structureType:STRUCTURE_TOWER}});if(e.length>0){var t=e=>e.id;this.memory.towers=_.map(e,t)}else delete this.memory.towers}};