let r=new Creep.Action("upgrading");module.exports=r,r.targetRange=3,r.reachedRange=3,r.isAddableAction=function(r){return!r.room.storage||r.room.storage.charge>1||!r.room.storage.my&&r.room.storage.store.energy>0},r.isAddableTarget=function(r,e){return!!(8!==r.level||e.data&&"upgrader"===e.data.creepType)},r.isValidAction=function(r){return r.carry.energy>0},r.isValidTarget=function(r){return r&&"controller"===r.structureType&&r.my},r.newTarget=function(r){const e=r.room.controller&&r.room.controller.my?r.room.controller:null;return this.isValidTarget(e)&&this.isAddableTarget(e,r)&&e},r.work=function(r,e){return e&&e<2&&r.controllerSign(),r.upgradeController(r.target)};