let e=new Creep.Setup("worker");module.exports=e,e.maxWorker=(n=>{let i=n.controller.level<8?1:0;if(n.controller.level<4){if(n.situation.invasion)return 1;let e=2===n.controller.level?6:4;const i=n.population&&n.population.typeCount.pioneer||0;return e-i}return e.hasMinerOrHauler(n)||(i+=1),n.myConstructionSites.length>0&&(!n.storage||!n.storage.isActive()||n.storage.store&&n.storage.charge>0)&&(i+=1),n.storage&&n.storage.isActive()&&n.storage.charge>1&&n.structures.fortifyable.length>0&&(i+=1),i}),e.hasMinerOrHauler=(e=>e.population&&(e.population.typeCount.hauler&&e.population.typeCount.hauler>0||e.population.typeCount.miner&&e.population.typeCount.miner>0)),e.byPopulation=function(e,n,i,t){return function(a){const o=n+(a.population&&a.population.typeCount[e]*i||0);return!t||o<=t?o:t}},e.RCL={1:{fixedBody:[],multiBody:[CARRY,WORK,MOVE,MOVE],minAbsEnergyAvailable:250,minEnergyAvailable:e.byPopulation(e.type,0,1,1),maxMulti:8,maxCount:n=>e.maxWorker(n),maxWeight:4e3},2:{fixedBody:[],multiBody:[CARRY,WORK,MOVE,MOVE],minAbsEnergyAvailable:250,minEnergyAvailable:e.byPopulation(e.type,0,.5,1),maxMulti:8,maxCount:n=>e.maxWorker(n),maxWeight:14400},3:{fixedBody:[],multiBody:[CARRY,WORK,MOVE],minAbsEnergyAvailable:200,minEnergyAvailable:n=>e.hasMinerOrHauler(n)?.3:0,maxMulti:8,maxCount:n=>e.maxWorker(n),maxWeight:9600},4:{fixedBody:[],multiBody:[CARRY,WORK,MOVE],minAbsEnergyAvailable:200,minEnergyAvailable:n=>e.hasMinerOrHauler(n)?.3:0,maxMulti:8,maxCount:n=>n.situation.invasion||n.storage?e.maxWorker(n):2,maxWeight:4800},5:{fixedBody:[],multiBody:[CARRY,WORK,MOVE],minAbsEnergyAvailable:400,minEnergyAvailable:n=>e.hasMinerOrHauler(n)?.3:0,maxMulti:8,maxCount:n=>e.maxWorker(n),maxWeight:2e3},6:{fixedBody:[],multiBody:[CARRY,WORK,MOVE],minAbsEnergyAvailable:600,minEnergyAvailable:n=>e.hasMinerOrHauler(n)?.3:0,maxMulti:8,maxCount:n=>e.maxWorker(n),maxWeight:2e3},7:{fixedBody:[],multiBody:[CARRY,WORK,MOVE],minAbsEnergyAvailable:800,minEnergyAvailable:n=>e.hasMinerOrHauler(n)?.2:0,maxMulti:10,maxCount:n=>e.maxWorker(n),maxWeight:2e3},8:{fixedBody:[],multiBody:[CARRY,WORK,MOVE],minAbsEnergyAvailable:800,minEnergyAvailable:n=>e.hasMinerOrHauler(n)?.1:0,maxMulti:e=>!e.storage||!e.storage.isActive()||e.storage.energy>MAX_STORAGE_ENERGY[8]?16:10,maxCount:n=>e.maxWorker(n),maxWeight:3200}};