let e=new Creep.Action("feeding");module.exports=e,e.maxPerTarget=1,e.isValidAction=function(e){return e.carry.energy>0&&e.room.energyAvailable<e.room.energyCapacityAvailable},e.isValidTarget=function(e){return null!=e&&null!=e.energy&&e.energy<e.energyCapacity},e.isAddableTarget=function(e){return e.my&&(!e.targetOf||_.filter(e.targetOf,{actionName:"feeding"}).length<this.maxPerTarget)},e.newTarget=function(e){if(e.room.energyAvailable===e.room.energyCapacityAvailable)return null;var r=this;return e.pos.findClosestByRange(e.room.structures.all,{filter:t=>{return(t.structureType==STRUCTURE_EXTENSION||t.structureType==STRUCTURE_SPAWN)&&r.isValidTarget(t)&&r.isAddableTarget(t,e)}})},e.work=function(e){let r=e.transfer(e.target,RESOURCE_ENERGY);return r==OK&&e.carry.energy>e.target.energyCapacity-e.target.energy&&(e.target=null,this.assign(e)),r};