let e=new Creep.Setup("hauler");module.exports=e,e.minControllerLevel=2,e.maxMulti=function(e){let t=7;e.minerals.length>0&&(t+=2);let n=_.sum(e.structures.container.in,"sum");return n+=_.sum(e.droppedResources,"amount"),t+=Math.floor(n/1e3),t+=Creep.setup.upgrader._maxMulti(e),Math.min(t,16)},e.maxCount=function(e){if(!e.population)return 0;let t=0,n=e.population.typeCount.miner||0,u=e.population.typeCount.worker||0,o=e.population.typeCount.mineralMiner||0,r=e.structures.container.in.length+e.structures.links.storage.length;if(n>0||r>0&&u>Creep.setup.worker._maxCount(e)){t+=Creep.setup.upgrader._maxCount(e),(e.structures.links.all.length<3||e.storage&&e.storage.charge>1&&e.structures.container.controller&&0==_.sum(e.structures.container.controller,"store.energy"))&&t++,o>0&&t++;let n=0,u=t=>e.sources.some(e=>e.pos.x===t.x&&e.pos.y===t.y),r=e=>{e.resourceType===RESOURCE_ENERGY&&e.pos.adjacent.some(u)&&(n+=e.amount)};e.droppedResources.forEach(r),e.storage&&n>1e3&&t++,0===t&&(t=1)}return t},e.maxWeight=function(t){return 2e3*e._maxCount(t)},e.default={fixedBody:[WORK,CARRY,MOVE],multiBody:[CARRY,CARRY,MOVE],minAbsEnergyAvailable:200,minEnergyAvailable:.4,maxMulti:t=>e.maxMulti(t),maxCount:t=>e.maxCount(t),maxWeight:t=>e.maxWeight(t)},e.high={fixedBody:[WORK,CARRY,MOVE],multiBody:[CARRY,CARRY,MOVE],minAbsEnergyAvailable:200,minEnergyAvailable:.1,maxMulti:t=>e.maxMulti(t),maxCount:t=>e.maxCount(t),maxWeight:t=>e.maxWeight(t)},e.RCL={1:e.none,2:e.default,3:e.default,4:e.default,5:e.default,6:e.default,7:e.default,8:e.high};